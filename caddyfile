http://localhost:80 {
    root * C:\Users\gonzo\RustroverProjects\Test\static
    file_server


	# Proxy inverso para la ruta /api hacia el servidor Rust en http://localhost:8000
    reverse_proxy /api/* http://localhost:8000

	# Denegar acceso a todas las rutas por defecto
    respond * 404


    # Permitir acceso a la carpeta public dentro de dominio1.com
    handle /dominio1.com/public/* {
        file_server
    }
	
    handle / {
        try_files /dominio1.com/index/index.html {path}
		file_server
    }

    handle /login {
        try_files /dominio1.com/login/login.html {path}
		file_server
    }
	
	handle /all.css {
        try_files /dominio1.com/all.css {path}
		file_server
    }

	# Habilitar compresión Gzip y Zstd
    encode gzip zstd 

    # Configurar límites de conexiones
    header {
        X-RateLimit-Limit "10" # Límite simulado para pruebas
    }
	
    handle_errors {
        @404 {
            expression {http.error.status_code} == 404
        }
        rewrite @404 /dominio1.com/404/404.html
        file_server
    }
}